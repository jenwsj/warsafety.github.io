<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Civilian Safety & Evacuation System</title>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f2f2f2; }
    header { background-color: #333; color: white; padding: 1em; text-align: center; }
    #map { height: 400px; }
    .section { padding: 1em; }
    .alerts, .reports { margin-top: 1em; background: white; padding: 1em; border-radius: 5px; }
    .alert-item, .report-item { border-bottom: 1px solid #ccc; padding: 0.5em 0; }
    .alert-item:last-child, .report-item:last-child { border: none; }
    .form-group { margin: 1em 0; }
    .form-group label { display: block; margin-bottom: 0.3em; }
    .form-group input { width: 100%; padding: 0.5em; }
    button { padding: 0.5em 1em; background-color: #333; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>
  <header>
    <h1>Civilian Safety & Evacuation System</h1>
  </header>

  <div id="map"></div>

  <div class="section">
    <h2>Live Alerts</h2>
    <div class="alerts" id="alerts"></div>

    <h2>Missing Persons Report</h2>
    <div class="form-group">
      <label>Name:</label>
      <input type="text" id="name" />
    </div>
    <div class="form-group">
      <label>Last Seen Location:</label>
      <input type="text" id="location" />
    </div>
    <div class="form-group">
      <label>Contact Info:</label>
      <input type="text" id="contact" />
    </div>
    <button onclick="addReport()">Report Missing</button>

    <div class="reports" id="reports"></div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // Initialize the map
    const map = L.map('map').setView([28.6139, 77.2090], 5); // Center on India

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Simulated conflict zones (red), safe zones (green)
    const conflictZone = L.circle([28.6139, 77.2090], {
      color: 'red', fillColor: '#f03', fillOpacity: 0.5, radius: 50000
    }).addTo(map).bindPopup("Conflict Zone - Avoid Area");

    const safeZone = L.circle([26.9124, 75.7873], {
      color: 'green', fillColor: '#0f3', fillOpacity: 0.5, radius: 50000
    }).addTo(map).bindPopup("Safe Zone - Evacuation Possible");

    // Alerts
    const alertList = [
      "Avoid central Delhi due to ongoing conflict.",
      "Safe corridor from Jaipur open until 6 PM.",
      "Medical aid available at Jaipur safe zone.",
      "Heavy shelling reported east of border town."
    ];

    const alertsDiv = document.getElementById("alerts");
    alertList.forEach(alert => {
      const div = document.createElement("div");
      div.className = "alert-item";
      div.textContent = alert;
      alertsDiv.appendChild(div);
    });

    // Missing person reports
    const reportsDiv = document.getElementById("reports");
    function addReport() {
      const name = document.getElementById("name").value;
      const location = document.getElementById("location").value;
      const contact = document.getElementById("contact").value;

      if (!name || !location || !contact) return;

      const report = document.createElement("div");
      report.className = "report-item";
      report.innerHTML = `<strong>${name}</strong><br>Last seen at: ${location}<br>Contact: ${contact}`;

      reportsDiv.prepend(report);
      document.getElementById("name").value = "";
      document.getElementById("location").value = "";
      document.getElementById("contact").value = "";
    }
  </script>
</body>
</html>
